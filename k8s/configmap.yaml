apiVersion: v1
kind: ConfigMap
metadata:
  name: digital-store-config
  namespace: default
data:
  application.yml: |
    spring:
      datasource:
        url: jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:digitalstore}
        username: ${DB_USERNAME:postgres}
        password: ${DB_PASSWORD:postgres}
        driver-class-name: org.postgresql.Driver
      jpa:
        hibernate:
          ddl-auto: update
        show-sql: true
        properties:
          hibernate:
            format_sql: true
            dialect: org.hibernate.dialect.PostgreSQLDialect
        defer-datasource-initialization: true
      sql:
        init:
          mode: always

    server:
      port: 8080
      servlet:
        context-path: /api 